---
title: Configuration
---

import { Aside } from '@astrojs/starlight/components';

## options.validate

When invoking `ConfigBuilder`, you must provide a `validate` function. This function will receive the final merged object and must return with the result of your validation.

You can use any schema validation to check this object (e.g., zod, valibot, yup) or run your own manual validation. The most important thing is the returned type of this function will be the value of your `config` object.


```ts
import { ConfigBuilder } from "@layerfig/config";
import { z } from "zod/v4";

const schema = z.object({
  appURL: z.url(),
  port: z.number(),
});

// config will be type `z.infer<typeof schema>` (the actual object type)
export const config = new ConfigBuilder({
  validate: (finalConfig) => schema.parse(finalConfig),
}).build();
```

## options.configFolder
> Default: `'./config'`

By default, when using `addSource` for file-based configurations, the library expects a `config` folder in the project's root. However, you can customize this path:

```ts
const config = new ConfigBuilder({
  validate: (finalConfig) => schema.parse(finalConfig),
  configFolder: "./path/to/config-folder",
})
  .addSource("base.json")
  .build();
```

In this case, the library will look for `<root>/path/to/config-folder/base.json` and load it.

## options.parser
> Default: simple json parser

This option allows you to add a custom parser for sources that are not `.json` (e.g., `yaml`, `jsonc` , `toml`, etc.).

<Aside type="tip">
    [Check the available parsers](/setup/sources/#other-file-extensions)
</Aside>


```ts
import yarmlParser from '@layerfig/yaml'

const config = new ConfigBuilder({
  validate: (finalConfig) => schema.parse(finalConfig),
  parser: yarmlParser
})
  .addSource("base.yaml")
  .build();
```

In this case, the library will look for `<root>/path/to/config-folder/base.json` and load it.
